(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2531:(e,t,n)=>{Promise.resolve().then(n.bind(n,6247))},6247:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>en});var r=n(5155),o=n(2115);let i=(()=>{let e=0,t=()=>`0000${(1679616*Math.random()<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function a(e){let t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}function l(e,t){let n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function s(e,t={}){return{width:t.width||function(e){let t=l(e,"border-left-width"),n=l(e,"border-right-width");return e.clientWidth+t+n}(e),height:t.height||function(e){let t=l(e,"border-top-width"),n=l(e,"border-bottom-width");return e.clientHeight+t+n}(e)}}function c(e){return new Promise((t,n)=>{let r=new Image;r.decode=()=>t(r),r.onload=()=>t(r),r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function u(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function d(e,t,n){let r="http://www.w3.org/2000/svg",o=document.createElementNS(r,"svg"),i=document.createElementNS(r,"foreignObject");return o.setAttribute("width",`${t}`),o.setAttribute("height",`${n}`),o.setAttribute("viewBox",`0 0 ${t} ${n}`),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),o.appendChild(i),i.appendChild(e),u(o)}let h=(e,t)=>{if(e instanceof t)return!0;let n=Object.getPrototypeOf(e);return null!==n&&(n.constructor.name===t.name||h(n,t))};function f(e,t,n){let r=window.getComputedStyle(e,n),o=r.getPropertyValue("content");if(""===o||"none"===o)return;let l=i();try{t.className=`${t.className} ${l}`}catch(e){return}let s=document.createElement("style");s.appendChild(function(e,t,n){let r=`.${e}:${t}`,o=n.cssText?function(e){let t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}(n):a(n).map(e=>{let t=n.getPropertyValue(e),r=n.getPropertyPriority(e);return`${e}: ${t}${r?" !important":""};`}).join(" ");return document.createTextNode(`${r}{${o}}`)}(l,n,r)),t.appendChild(s)}let p="application/font-woff",m="image/jpeg",g={woff:p,woff2:p,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:m,jpeg:m,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function y(e){return g[(function(e){let t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""})(e).toLowerCase()]||""}function w(e){return -1!==e.search(/^(data:)/)}function b(e,t){return`data:${t};base64,${e}`}async function v(e,t,n){let r=await fetch(e,t);if(404===r.status)throw Error(`Resource "${r.url}" not found`);let o=await r.blob();return new Promise((e,t)=>{let i=new FileReader;i.onerror=t,i.onloadend=()=>{try{e(n({res:r,result:i.result}))}catch(e){t(e)}},i.readAsDataURL(o)})}let x={};async function S(e,t,n){var r,o,i;let a,l;let s=(r=e,o=t,i=n.includeQueryParams,l=r.replace(/\?.*/,""),i&&(l=r),/ttf|otf|eot|woff2?/i.test(l)&&(l=l.replace(/.*\//,"")),o?`[${o}]${l}`:l);if(null!=x[s])return x[s];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());try{let r=await v(e,n.fetchRequestInit,({res:e,result:n})=>(t||(t=e.headers.get("Content-Type")||""),n.split(/,/)[1]));a=b(r,t)}catch(r){a=n.imagePlaceholder||"";let t=`Failed to fetch resource: ${e}`;r&&(t="string"==typeof r?r:r.message),t&&console.warn(t)}return x[s]=a,a}async function C(e){let t=e.toDataURL();return"data:,"===t?e.cloneNode(!1):c(t)}async function E(e,t){if(e.currentSrc){let t=document.createElement("canvas"),n=t.getContext("2d");return t.width=e.clientWidth,t.height=e.clientHeight,null==n||n.drawImage(e,0,0,t.width,t.height),c(t.toDataURL())}let n=e.poster,r=y(n);return c(await S(n,r,t))}async function k(e){var t;try{if(null===(t=null==e?void 0:e.contentDocument)||void 0===t?void 0:t.body)return await j(e.contentDocument.body,{},!0)}catch(e){}return e.cloneNode(!1)}async function R(e,t){return h(e,HTMLCanvasElement)?C(e):h(e,HTMLVideoElement)?E(e,t):h(e,HTMLIFrameElement)?k(e):e.cloneNode(!1)}let $=e=>null!=e.tagName&&"SLOT"===e.tagName.toUpperCase();async function T(e,t,n){var r,o;let i=[];return $(e)&&e.assignedNodes?i=a(e.assignedNodes()):h(e,HTMLIFrameElement)&&(null===(r=e.contentDocument)||void 0===r?void 0:r.body)?i=a(e.contentDocument.body.childNodes):i=a((null!==(o=e.shadowRoot)&&void 0!==o?o:e).childNodes),0===i.length||h(e,HTMLVideoElement)||await i.reduce((e,r)=>e.then(()=>j(r,n)).then(e=>{e&&t.appendChild(e)}),Promise.resolve()),t}async function P(e,t){let n=e.querySelectorAll?e.querySelectorAll("use"):[];if(0===n.length)return e;let r={};for(let o=0;o<n.length;o++){let i=n[o].getAttribute("xlink:href");if(i){let n=e.querySelector(i),o=document.querySelector(i);n||!o||r[i]||(r[i]=await j(o,t,!0))}}let o=Object.values(r);if(o.length){let t="http://www.w3.org/1999/xhtml",n=document.createElementNS(t,"svg");n.setAttribute("xmlns",t),n.style.position="absolute",n.style.width="0",n.style.height="0",n.style.overflow="hidden",n.style.display="none";let r=document.createElementNS(t,"defs");n.appendChild(r);for(let e=0;e<o.length;e++)r.appendChild(o[e]);e.appendChild(n)}return e}async function j(e,t,n){return n||!t.filter||t.filter(e)?Promise.resolve(e).then(e=>R(e,t)).then(n=>T(e,n,t)).then(t=>{var n,r;return n=e,h(r=t,Element)&&(!function(e,t){let n=t.style;if(!n)return;let r=window.getComputedStyle(e);r.cssText?(n.cssText=r.cssText,n.transformOrigin=r.transformOrigin):a(r).forEach(o=>{let i=r.getPropertyValue(o);if("font-size"===o&&i.endsWith("px")){let e=Math.floor(parseFloat(i.substring(0,i.length-2)))-.1;i=`${e}px`}h(e,HTMLIFrameElement)&&"display"===o&&"inline"===i&&(i="block"),"d"===o&&t.getAttribute("d")&&(i=`path(${t.getAttribute("d")})`),n.setProperty(o,i,r.getPropertyPriority(o))})}(n,r),f(n,r,":before"),f(n,r,":after"),h(n,HTMLTextAreaElement)&&(r.innerHTML=n.value),h(n,HTMLInputElement)&&r.setAttribute("value",n.value),function(e,t){if(h(e,HTMLSelectElement)){let n=Array.from(t.children).find(t=>e.value===t.getAttribute("value"));n&&n.setAttribute("selected","")}}(n,r)),r}).then(e=>P(e,t)):null}let A=/url\((['"]?)([^'"]+?)\1\)/g,L=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,M=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;async function N(e,t,n,r,o){try{let i;let a=n?function(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;let n=document.implementation.createHTMLDocument(),r=n.createElement("base"),o=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(o),t&&(r.href=t),o.href=e,o.href}(t,n):t,l=y(t);if(o){let e=await o(a);i=b(e,l)}else i=await S(a,l,r);return e.replace(function(e){let t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}(t),`$1${i}$3`)}catch(e){}return e}function U(e){return -1!==e.search(A)}async function I(e,t,n){if(!U(e))return e;let r=function(e,{preferredFontFormat:t}){return t?e.replace(M,e=>{for(;;){let[n,,r]=L.exec(e)||[];if(!r)return"";if(r===t)return`src: ${n};`}}):e}(e,n);return(function(e){let t=[];return e.replace(A,(e,n,r)=>(t.push(r),e)),t.filter(e=>!w(e))})(r).reduce((e,r)=>e.then(e=>N(e,r,t,n)),Promise.resolve(r))}async function D(e,t,n){var r;let o=null===(r=t.style)||void 0===r?void 0:r.getPropertyValue(e);if(o){let r=await I(o,null,n);return t.style.setProperty(e,r,t.style.getPropertyPriority(e)),!0}return!1}async function H(e,t){await D("background",e,t)||await D("background-image",e,t),await D("mask",e,t)||await D("mask-image",e,t)}async function O(e,t){let n=h(e,HTMLImageElement);if(!(n&&!w(e.src))&&!(h(e,SVGImageElement)&&!w(e.href.baseVal)))return;let r=n?e.src:e.href.baseVal,o=await S(r,y(r),t);await new Promise((t,r)=>{e.onload=t,e.onerror=r,e.decode&&(e.decode=t),"lazy"===e.loading&&(e.loading="eager"),n?(e.srcset="",e.src=o):e.href.baseVal=o})}async function V(e,t){let n=a(e.childNodes).map(e=>B(e,t));await Promise.all(n).then(()=>e)}async function B(e,t){h(e,Element)&&(await H(e,t),await O(e,t),await V(e,t))}let F={};async function K(e){let t=F[e];if(null!=t)return t;let n=await fetch(e);return t={url:e,cssText:await n.text()},F[e]=t,t}async function q(e,t){let n=e.cssText,r=/url\(["']?([^"')]+)["']?\)/g;return Promise.all((n.match(/url\([^)]+\)/g)||[]).map(async o=>{let i=o.replace(r,"$1");return i.startsWith("https://")||(i=new URL(i,e.url).href),v(i,t.fetchRequestInit,({result:e})=>(n=n.replace(o,`url(${e})`),[o,e]))})).then(()=>n)}function z(e){if(null==e)return[];let t=[],n=e.replace(/(\/\*[\s\S]*?\*\/)/gi,""),r=RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){let e=r.exec(n);if(null===e)break;t.push(e[0])}n=n.replace(r,"");let o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,i=RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let e=o.exec(n);if(null===e){if(null===(e=i.exec(n)))break;o.lastIndex=i.lastIndex}else i.lastIndex=o.lastIndex;t.push(e[0])}return t}async function Y(e,t){let n=[],r=[];return e.forEach(n=>{if("cssRules"in n)try{a(n.cssRules||[]).forEach((e,o)=>{if(e.type===CSSRule.IMPORT_RULE){let i=o+1,a=e.href,l=K(a).then(e=>q(e,t)).then(e=>z(e).forEach(e=>{try{n.insertRule(e,e.startsWith("@import")?i+=1:n.cssRules.length)}catch(t){console.error("Error inserting rule from remote css",{rule:e,error:t})}})).catch(e=>{console.error("Error loading remote css",e.toString())});r.push(l)}})}catch(i){let o=e.find(e=>null==e.href)||document.styleSheets[0];null!=n.href&&r.push(K(n.href).then(e=>q(e,t)).then(e=>z(e).forEach(e=>{o.insertRule(e,n.cssRules.length)})).catch(e=>{console.error("Error loading remote stylesheet",e)})),console.error("Error inlining remote css file",i)}}),Promise.all(r).then(()=>(e.forEach(e=>{if("cssRules"in e)try{a(e.cssRules||[]).forEach(e=>{n.push(e)})}catch(t){console.error(`Error while reading CSS rules from ${e.href}`,t)}}),n))}async function _(e,t){if(null==e.ownerDocument)throw Error("Provided element is not within a Document");let n=a(e.ownerDocument.styleSheets);return(await Y(n,t)).filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>U(e.style.getPropertyValue("src")))}async function W(e,t){let n=await _(e,t);return(await Promise.all(n.map(e=>{let n=e.parentStyleSheet?e.parentStyleSheet.href:null;return I(e.cssText,n,t)}))).join("\n")}async function X(e,t){let n=null!=t.fontEmbedCSS?t.fontEmbedCSS:t.skipFonts?null:await W(e,t);if(n){let t=document.createElement("style"),r=document.createTextNode(n);t.appendChild(r),e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}}async function G(e,t={}){let{width:n,height:r}=s(e,t),o=await j(e,t,!0);return await X(o,t),await B(o,t),!function(e,t){let{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);let r=t.style;null!=r&&Object.keys(r).forEach(e=>{n[e]=r[e]})}(o,t),await d(o,n,r)}async function Q(e,t={}){let{width:n,height:r}=s(e,t),o=await G(e,t),i=await c(o),a=document.createElement("canvas"),l=a.getContext("2d"),u=t.pixelRatio||function(){let e,t;try{t=process}catch(e){}let n=t&&t.env?t.env.devicePixelRatio:null;return n&&Number.isNaN(e=parseInt(n,10))&&(e=1),e||window.devicePixelRatio||1}(),d=t.canvasWidth||n,h=t.canvasHeight||r;return a.width=d*u,a.height=h*u,!t.skipAutoScale&&(a.width>16384||a.height>16384)&&(a.width>16384&&a.height>16384?a.width>a.height?(a.height*=16384/a.width,a.width=16384):(a.width*=16384/a.height,a.height=16384):a.width>16384?(a.height*=16384/a.width,a.width=16384):(a.width*=16384/a.height,a.height=16384)),a.style.width=`${d}`,a.style.height=`${h}`,t.backgroundColor&&(l.fillStyle=t.backgroundColor,l.fillRect(0,0,a.width,a.height)),l.drawImage(i,0,0,a.width,a.height),a}async function Z(e,t={}){return(await Q(e,t)).toDataURL()}var J=n(1542),ee=n.n(J);let et=()=>{(0,o.useEffect)(()=>{setTimeout(()=>{!function(e,t){var n,r=e.createElement("script");r.type="text/javascript",r.async=!0,r.src="https://plugins-media.makeupar.com/c51053-dev/sdk.js?apiKey="+t;var o=e.getElementsByTagName("script")[0];null===(n=o.parentNode)||void 0===n||n.insertBefore(r,o)}(document,"zVZQ3k5yqa5F5wzKOVeXfw")},100),setTimeout(()=>{YMK.addEventListener("skinAnalysisUpdated",e=>{console.log("skinAnalysisUpdated:::",e)})},1e3)},[]);let[e,t]=(0,o.useState)(""),n=async()=>{try{let e=await navigator.permissions.query({name:"camera"});"granted"===e.state?console.log("카메라 권한이 이미 허용되어 있습니다."):"prompt"===e.state?((await navigator.mediaDevices.getUserMedia({video:!0})).getTracks().forEach(e=>e.stop()),console.log("카메라 권한이 허용되었습니다.")):console.log("카메라 권한이 거부되었습니다.")}catch(e){console.error("카메라 권한 확인 중 오류 발생:",e)}},i=async e=>{try{if(navigator.clipboard&&window.isSecureContext){await navigator.clipboard.writeText(e);return}let t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}catch(e){console.error("클립보드 복사 실패:",e)}document.body.removeChild(t)}catch(e){console.error("클립보드 복사 중 오류 발생:",e)}},a=async()=>{let e=document.getElementById("html-to-image-container");if(e)try{let t=await Z(e);ee()(t,"my-image.png","image/png")}catch(e){console.error("이미지 생성 중 오류 발생:",e)}};return(0,r.jsxs)("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:16},children:[(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:10,marginBottom:16,flexWrap:"wrap"},children:[(0,r.jsx)("button",{onClick:n,children:"request camera access"}),(0,r.jsx)("button",{onClick:()=>YMK.open(!0),children:"YMK.open()"}),(0,r.jsx)("button",{onClick:()=>YMK.openSkincare(),children:"YMK.openSkincare()"}),(0,r.jsx)("button",{onClick:()=>{YMK.snapshotSkincareResult(["moisture"],{score:!0,legend:!0,skinAge:!0}).then(e=>{console.log(e)})},children:"YMK.snapshotSkincareResult()"}),(0,r.jsxs)("button",{onClick:()=>{YMK.isFeatureSupportedByDeviceEnv("skincare").then(e=>{let{result:n}=e;console.log(n),t(n)})},children:["checkSupport: ",e]}),(0,r.jsx)("button",{onClick:()=>i("텍스트가 복사되었습니다."),children:"Copy to clipboard"}),(0,r.jsx)("button",{onClick:()=>a(),children:"download image"})]}),(0,r.jsx)("div",{style:{width:"100%",height:"70vh"},children:(0,r.jsx)("div",{id:"YMK-module",style:{width:"100%",height:"100%",maxHeight:"80vh"}})}),(0,r.jsxs)("div",{id:"html-to-image-container",children:[(0,r.jsx)("div",{style:{width:50,height:50,borderRadius:25,backgroundColor:"red"}}),(0,r.jsx)("div",{style:{width:"100%",height:100,borderRadius:16,backgroundColor:"blue",color:"green",fontSize:16},children:"내용 저장 테스트"})]})]})};function en(){let[e,t]=(0,o.useState)(!1);return(0,r.jsxs)("div",{children:[(0,r.jsx)("button",{onClick:()=>t(!0),children:"Show"}),e&&(0,r.jsx)(et,{})]})}},1542:function(e,t){var n,r,o;r=[],void 0!==(o="function"==typeof(n=function(){return function e(t,n,r){var o,i,a=window,l="application/octet-stream",s=r||l,c=t,u=!n&&!r&&c,d=document.createElement("a"),h=function(e){return String(e)},f=a.Blob||a.MozBlob||a.WebKitBlob||h,p=n||"download";if(f=f.call?f.bind(a):Blob,"true"===String(this)&&(s=(c=[c,s])[0],c=c[1]),u&&u.length<2048&&(p=u.split("/").pop().split("?")[0],d.href=u,-1!==d.href.indexOf(u))){var m=new XMLHttpRequest;return m.open("GET",u,!0),m.responseType="blob",m.onload=function(t){e(t.target.response,p,l)},setTimeout(function(){m.send()},0),m}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(c)){if(!(c.length>2096103.424)||f===h)return navigator.msSaveBlob?navigator.msSaveBlob(b(c),p):v(c);s=(c=b(c)).type||l}else if(/([\x80-\xff])/.test(c)){for(var g=0,y=new Uint8Array(c.length),w=y.length;g<w;++g)y[g]=c.charCodeAt(g);c=new f([y],{type:s})}function b(e){for(var t=e.split(/[:;,]/),n=t[1],r=("base64"==t[2]?atob:decodeURIComponent)(t.pop()),o=r.length,i=0,a=new Uint8Array(o);i<o;++i)a[i]=r.charCodeAt(i);return new f([a],{type:n})}function v(e,t){if("download"in d)return d.href=e,d.setAttribute("download",p),d.className="download-js-link",d.innerHTML="downloading...",d.style.display="none",document.body.appendChild(d),setTimeout(function(){d.click(),document.body.removeChild(d),!0===t&&setTimeout(function(){a.URL.revokeObjectURL(d.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,l)),!window.open(e)&&confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var n=document.createElement("iframe");document.body.appendChild(n),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,l)),n.src=e,setTimeout(function(){document.body.removeChild(n)},333)}if(o=c instanceof f?c:new f([c],{type:s}),navigator.msSaveBlob)return navigator.msSaveBlob(o,p);if(a.URL)v(a.URL.createObjectURL(o),!0);else{if("string"==typeof o||o.constructor===h)try{return v("data:"+s+";base64,"+a.btoa(o))}catch(e){return v("data:"+s+","+encodeURIComponent(o))}(i=new FileReader).onload=function(e){v(this.result)},i.readAsDataURL(o)}return!0}})?n.apply(t,r):n)&&(e.exports=o)}},e=>{var t=t=>e(e.s=t);e.O(0,[441,517,358],()=>t(2531)),_N_E=e.O()}]);